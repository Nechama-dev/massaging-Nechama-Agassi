{"version":3,"sources":["logo.svg","api.js","componnent/login/Login.js","componnent/redux/user/userActions.js","componnent/redux/user/userTypes.js","App.js","index.js"],"names":["module","exports","login","userName","password","a","options","method","headers","body","JSON","stringify","fetch","json","response","console","log","Alert","props","elevation","variant","connect","state","user","dispatch","setUser","type","payload","useState","setUserName","setPassword","set_authenticated","error","setError","loginUser","e","api","status","Typography","style","marginBottom","TextField","label","fullWidth","className","value","onChange","target","Button","color","size","onClick","severity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+JAAAA,EAAOC,QAAU,IAA0B,kC,6ICE9BC,EAAK,uCAAG,WAAOC,EAAUC,GAAjB,iBAAAC,EAAA,4DACL,aAENC,EAAU,CAACC,OAAO,OAAOC,QADf,CAAC,eAAgB,oBACOC,KAAKC,KAAKC,UAAU,CAACR,WAASC,cAHrD,SAIaQ,MAHlB,aAG4BN,GAJvB,8BAIiCO,OAJjC,cAIXC,EAJW,OAKjBC,QAAQC,IAAI,CAACF,aALI,kBAMVA,GANU,4CAAH,wD,gDCSlB,SAASG,EAAMC,GACX,OAAO,kBAAC,IAAD,eAAUC,UAAW,EAAGC,QAAQ,UAAaF,IA6ExD,IAYeG,eAZS,SAAAC,GACpB,MAAO,CACHC,KAAMD,EAAMC,SAIM,SAAAC,GACtB,MAAO,CACHC,QAAS,SAACF,GAAD,OAAUC,EC9FJ,SAACD,GACpB,MAAO,CACHG,KCLgB,WDMhBC,QAASJ,GD2FmBE,CAAQF,QAI7BF,EArFf,SAAeH,GAEX,MAAgCU,mBAAS,IAAzC,mBAAOzB,EAAP,KAAiB0B,EAAjB,KACA,EAAgCD,mBAAS,IAAzC,mBAAOxB,EAAP,KAAiB0B,EAAjB,KACA,EAA0CF,oBAAS,GAAnD,mBAAqBG,GAArB,WACA,EAA0BH,mBAAS,IAAnC,mBAAOI,EAAP,KAAcC,EAAd,KAYMC,EAAS,uCAAG,WAAMC,GAAN,eAAA9B,EAAA,sEACS+B,EAAUjC,EAAUC,GAD7B,UAES,mBADjBU,EADQ,QAEFuB,OAFE,iBAGZN,GAAkB,GAClBhB,QAAQC,IAAI,kBAAkBF,EAASS,MACvCL,EAAMO,QAAQX,EAASS,MACvBR,QAAQC,IAAI,iBAAiBE,EAAMK,MANvB,+BAQVU,EAASnB,EAASuB,QARR,+DAAH,sDAaf,OACI,6BACI,8BACI,kBAACC,EAAA,EAAD,CAAYlB,QAAQ,KAAKmB,MAAO,CAAEC,aAAc,IAAhD,SAGA,kBAACC,EAAA,EAAD,CACIC,MAAM,YACNtB,QAAQ,WACRuB,WAAS,EACTC,UAAU,aACVC,MAAO1C,EACP2C,SAAU,SAAAX,GAAC,OAAIN,EAAYM,EAAEY,OAAOF,UAExC,kBAACJ,EAAA,EAAD,CACIC,MAAM,WACNtB,QAAQ,WACRuB,WAAS,EACTC,UAAU,aACVlB,KAAK,WACLmB,MAAOzC,EACP0C,SAAU,SAAAX,GAAC,OAAIL,EAAYK,EAAEY,OAAOF,UAExC,kBAACG,EAAA,EAAD,CACI5B,QAAQ,YACR6B,MAAM,UACNN,WAAS,EACTC,UAAU,aACVM,KAAK,QACLC,QApDG,WACfpC,QAAQC,IAAIZ,GACK,KAAbD,GAAgC,KAAbC,EAKvB8B,IAJID,EAAS,yBA2CL,SAUCD,GACG,kBAAC,EAAD,CAAOoB,SAAS,QAAQD,QAAS,kBAAMlB,EAAS,QAC1CD,QGnBXqB,MARf,WACE,OACE,6BACA,kBAAC,EAAD,QCpDJC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.ac8155c1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","//http://localhost:3030\n\nexport const login = async (userName, password)=> {\n    const url = '/api/login';\n    const headers = {'Content-Type': 'application/json'}\n    const options = {method:'POST',headers, body:JSON.stringify({userName,password})}\n    const response = await (await fetch(url,options)).json()\n    console.log({response})\n    return response;\n}\nexport const logout = async ()=> {\n    const url = '/api/logout';\n    const response = await (await fetch(url)).json()\n    console.log({response})\n    return response;\n}\nexport const get_protected = async ()=> {\n    const url = '/api/protected';\n    const response = await (await fetch(url)).json()\n    console.log({response})\n    return response;\n}","import React, { useState } from 'react'\nimport { Redirect, Route } from \"react-router-dom\";\nimport { TextField, Typography, Button } from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport * as api from '../../api';\nimport {connect} from 'react-redux'\nimport {setUser} from '../redux'\nimport CreateGroup from '../groups/Create_group';\nimport SelectGroup from '../groups/Select_group';\n\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\n\nfunction Login(props) {\n\n    const [userName, setUserName] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [authenticated,set_authenticated] = useState(false);\n    const [error, setError] = useState(\"\");\n\n    const submitForm = () => {\n        console.log(password)\n        if (userName === \"\" || password === \"\") {\n            setError(\"Fields are required\");\n            return;\n        }\n\n        loginUser();\n    };\n\n    const loginUser = async e =>{\n        const response = await api.login(userName, password)\n        if(response.status === \"you are login\"){\n          set_authenticated(true)\n          console.log('hii from client',response.user);\n          props.setUser(response.user)\n          console.log('hii from redux',props.user)\n        }else{\n            setError(response.status);\n            return;\n        }\n    }\n\n    return (\n        <div>\n            <form>\n                <Typography variant=\"h5\" style={{ marginBottom: 8 }}>\n                    Login\n                </Typography>\n                <TextField\n                    label=\"User name\"\n                    variant=\"outlined\"\n                    fullWidth\n                    className=\"form-input\"\n                    value={userName}\n                    onChange={e => setUserName(e.target.value)}\n                />\n                <TextField\n                    label=\"Password\"\n                    variant=\"outlined\"\n                    fullWidth\n                    className=\"form-input\"\n                    type=\"password\"\n                    value={password}\n                    onChange={e => setPassword(e.target.value)}\n                />\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    fullWidth\n                    className=\"form-input\"\n                    size=\"large\"\n                    onClick={submitForm}\n                >\n                    Login\n                </Button>\n                {error && (\n                    <Alert severity=\"error\" onClick={() => setError(null)}>\n                        { error}\n                    </Alert>\n                )}\n            </form>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        user: state.user\n    }\n}\n\nconst mapDispachToProps = dispatch => {\n    return {\n        setUser: (user) => dispatch(setUser(user))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispachToProps)(Login) \n\n","import {SET_USER} from './userTypes'\n\n\nexport const setUser = (user) => {\n    return {\n        type: SET_USER,\n        payload: user\n    }\n}","export const SET_USER = 'SET_USER';","import React, { useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport * as api from './api';\nimport Login from './componnent/login/Login'\n\n// function App() {\n//   const [authenticated,set_authenticated] = useState(false);\n//   const [user,set_user] = useState(null);\n//   const [content,set_content] = useState('no content yet...');\n  \n//   const login = async e =>{\n//     const response = await api.login()\n//     if(response.status === \"you are authenticated\"){\n//       set_authenticated(true)\n//       set_user(response.user)\n//     }\n//   }\n//   const logout = async e => {\n//     const response = await api.logout()\n//     if(response.status === 'You are logged out'){\n//       set_authenticated(false)\n//       set_user(null)\n//     }\n//   }\n//   const get_protected = async e =>{\n//     const response = await api.get_protected()\n//     set_content(response.payload)\n//   }\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <div className=\"top-box\">\n//           <h1>Auth demo</h1>\n//           <img src={logo} className=\"logo\" alt=\"logo\" />\n//         </div>\n        \n//         <p>Authenticated:<span className=\"lightblue-text\">{' '+authenticated}</span></p>\n//         <div><span className=\"lightblue-text\">user:</span>\n//         <pre>{JSON.stringify(user,null,2)}</pre>\n//         </div>\n//         <div>\n//           {authenticated?\n//           <button className=\"btn\" onClick={logout}>Logout</button>\n//           :<button className=\"btn\" onClick={login}>Login</button>}\n//           <button className=\"btn\" onClick={get_protected}>get protected content</button>\n//         </div>\n//         <p>{content}</p>\n//       </header>\n//     </div>\n//   );\n// }\n\n\nfunction App() {\n  return (\n    <div>\n    <Login></Login>\n    </div>\n  )\n}\n\nexport default App\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}